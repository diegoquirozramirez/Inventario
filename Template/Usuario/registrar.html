{% extends 'index.html' %}
  {% block content %}    
  <link rel="stylesheet" href="http://code.jquery.com/ui/1.8.18/themes/base/jquery-ui.css" type="text/css" media="all" /> <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js" type="text/javascript"> </script> <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.8.16/jquery-ui.min.js" type="text/javascript"></script>
     
        <div class="app-main" style="font-size: 0.8em;">
                 
                <div class="app-main__outer" style="margin-left: -270px;">
                    <div class="app-main__inner">
                            <div class="row">
                                    <div class="col-lg-12" style="margin-top: -70px;">
                                            <div class="page-title-subheading col-lg-12">
                                                    {% if messages %}
                                                    <div class="messages alert alert-danger form-control col-lg-12" role="alert" style="height: 50px;">
                                                        {% for message in messages %}
                                                        <center>
                                                        <p {% if message.tags %} class="{{ message.tags }}"{% endif %}>{{ message }}</p>
                                                        </center>
                                                        {% endfor %}
                                                    </div>
                                                {% endif %}
                                            </div>
                                    </div>
                                </div>
                        
                        <!-- formulario -->
                        <div class="main-card mb-3 card" style="margin-top: -10px;">
                            <div class="card-body" >
                                <h5 class="card-title mb-3" style="margin-bottom: 50px;">Registre a un nuevo Usuario</h5>
                                <h6 style="margin-bottom: 30px; color: rgb(161, 17, 17);">(*) Obligatorio</h6>
                                
                                <form class="needs-validation" id="search" novalidate action="{% url 'buscar-usuario' %}" >                              
                                     
                                    <div class="form-row">
                                       
                                         
                                                <div class="col-md-3 mb-3">
                                                    <label for="validationCustom01">NÃºmero de Documento </label>
                                                        <input type="text" name="dni"  class="form-control" id="dni" maxlength="8" minlength="8"  >                                                      
                                                        <script type="text/javascript">
                                                            document.getElementById('dni').focus()
                                                        </script>
                                                      
                                                </div>
                                         

                                                <div class="col-md-4 mb-3">
                                                    <label for="validationCustom01">Nombre Completo del Usuario (*)</label>
                                                    <input type="text" name="nombres" id="nombres" required class="form-control" style="text-transform:uppercase" onkeyup="javascript:this.value=this.value.toUpperCase();" required>                                                      
                                                    <div class="valid-feedback">
                                                        Bien!
                                                    </div>
                                                   
                                                </div>


                                                <div class="col-md-2 mb-3">
                                                    <label ></label>
                                                    <input type="submit"  class="btn btn-primary form-control" style="height: 50px;" value="Buscar">                                                     
                                                  
                                                </div>
                                        
                                    </div>
                                    
                                </form>
                             
                                <script>
                                                   
                                        $(function() {
                                            $("#nombres").autocomplete({
                                            source: "/usuario/get-usuario/",
                                            select: function (event, ui) { //item selected
                                                AutoCompleteSelectHandler(event, ui)
                                            },
                                            minLength: 2,
                                            });
                                        });

                                        function AutoCompleteSelectHandler(event, ui)
                                        {
                                            var selectedObj = ui.item;
                                        }
                                    </script>
            
                                <script>
                                    // Example starter JavaScript for disabling form submissions if there are invalid fields
                                    (function() {
                                        'use strict';
                                        window.addEventListener('load', function() {
                                            // Fetch all the forms we want to apply custom Bootstrap validation styles to
                                            var forms = document.getElementsByClassName('needs-validation');
                                            // Loop over them and prevent submission
                                            var validation = Array.prototype.filter.call(forms, function(form) {
                                                form.addEventListener('submit', function(event) {
                                                    if (form.checkValidity() === false) {
                                                        event.preventDefault();
                                                        event.stopPropagation();
                                                    }
                                                    form.classList.add('was-validated');
                                                }, false);
                                            });
                                        }, false);
                                    })();
                                </script>
                            </div>
                        </div>

                        <!--fin de formulario-->
                      
                    </div>
                    
                </div>
        </div>
{% endblock%}

